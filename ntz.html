<html>
<head>
<title></title>
</head>
<body>
<style>
body {
background-color: black;
color: white;
}
.item {
width: 100%;
border-top: 2px solid transparent;
border-bottom: 2px solid transparent;
}
.item:hover {
text-decoration:underline;
cursor: hand;
}
</style>
<div id="container">
<!--
  <div draggable="true" ondragstart="event.dataTransfer.setData('text', 1);console.log('ok 1')" class="dd" ondragover="ondrg(event)"  ondrop="ondrp(event)">p1</div>
  <div draggable="true" ondragstart="event.dataTransfer.setData('text', 2);console.log('ok 2')" class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p2</div>
  <div draggable="true" class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p3</div>
  <div class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)" ondragenter="dragenter()">p4</div>
  <div class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p5</div>
  <div class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p6</div>
  <div class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p7</div>
  <div class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p8</div>
  <div class="dd" ondragover="ondrg(event)" ondrop="ondrp(event)">p9</div>
  lkj
-->
</div>
<script>


window.onload = function(){
  list = []
  for(i = 0; i < 10; i++){
    list[i] = 'item ' + i
  }
  updateList()
}


function updateList(){
  console.log('ok loaded')  
  var html = ''
  for(i = 0; i < list.length; i++){
    html += '<div class="item" draggable="true" ondragover="event.preventDefault()"'
    html += ' id="' + i + '"'
    html += ' onclick="onclickel(' + i + ')"'
    html += ' ondragenter="dragenter(event)"'
    html += ' ondragleave="dragexit(event)"'
    html += ' onDrop="onDrop(event)"'
    html += ' onDragStart="dragstart(event, '+ i + ')">'
    //html += i + ' '
    html += list[i]
    html += '</div>'
    //console.log(i, list[i])
  }
  document.getElementById('container').innerHTML = html
}

function onclickel(i){
  alert(i + ') ' + list[i])
}

function dragstart(event, i){  
  console.log('start', i)
  src = i
}

function dragenter(ev){
  var el = ev.toElement
  if(src >= el.id){
    el.style.borderTopColor = 'gray'
  }
  else{
    el.style.borderBottomColor = 'gray'
  }
}
function dragexit(ev){
  var el = ev.toElement
  el.style.borderTopColor = 'transparent'
  el.style.borderColor = 'transparent'
}

function ondrg(ev){
  ev.preventDefault();
}
function onDrop(ev){
  ev.preventDefault();
  dragexit(ev)
  var el = ev.toElement
  var dst = parseInt(el.id)
  if(src == dst){
    return
  }
  console.log(src, '>', dst)
  list.splice(dst, 0, list.splice(src, 1)[0])
  updateList()
}
</script>
</body>
</html>